<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>{% block title %}{% endblock %}</title>
        <link rel="icon" href="../static/assets/logo.png">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/global.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/blockchain.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/home.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/login.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/mine.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/register.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/transaction.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/wallet.css')}}" />
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/layout.css')}}" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        {% if theme == dark %}
          <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/dark.css')}}" />
        {% else %}
          <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/light.css')}}" />
        {% endif %}
      </head>

    <body>
        <span class="la-nodetext">
          <a href="{{ url_for('toggle_theme', current_page=request.path) }}">{{ session['theme'] }}</a>
          Node: #{{ current_user.node }}</span>
        <button for="label" onclick="ani()" class="magic">&#63;</button>
        <div class="la-superdiv">
            <div class="container-left"></div>
            <div class="container-right"></div>
            <div class="container1">
              <div class="infotainer">
                <div class="infobox rightinfo">
                  <div class="stack" style="--stacks: 3;">
                    <span style="--index: 0;" class="id1">Rithwik Babu</span>
                    <span style="--index: 1;" class="id1">Rithwik Babu</span>
                    <span style="--index: 2;" class="id1">Rithwik Babu</span>
                  </div>
                  <a href="https://github.com/rithwikbabu" class="github-link">
                    <div>
                      <i class="fa fa-github" style="font-size:40px;color:red"></i>
                      <span class="gitlink">github.com</span><span class="sublink">/rithwikbabu</span>
                    </div>
                  </a>
                  <a href="https://www.linkedin.com/in/rithwik-babu/" class="github-link">
                    <div>
                      <i class="fa fa-linkedin" style="font-size:35px;color:#0072b1"></i>
                      <span class="gitlink">linkedin.com</span><span class="sublink">/rithwik-babu/</span>
                    </div>
                  </a>
                </div>
                <div class="infobox middleinfo">
                  <div class="stack" style="--stacks: 3;">
                    <span style="--index: 0;" class="id1">Noah Campbell</span>
                    <span style="--index: 1;" class="id1">Noah Campbell</span>
                    <span style="--index: 2;" class="id1">Noah Campbell</span>
                  </div>
                  <a href="https://github.com/ntcampbell03" class="github-link">
                    <div>
                      <i class="fa fa-github" style="font-size:40px;color:red"></i>
                      <span class="gitlink">github.com</span><span class="sublink">/ntcampbell03</span>
                    </div>
                  </a>
                  <a href="https://www.linkedin.com/in/noah-campbell-26b43a20b/" class="github-link">
                    <div>
                      <i class="fa fa-linkedin" style="font-size:35px;color:#0072b1"></i>
                      <span class="gitlink">linkedin.com</span><span class="sublink">/noah-campbell/</span>
                    </div>
                  </a>
                </div>
                <div class="infobox leftinfo">
                  <div class="stack" style="--stacks: 3;">
                    <span style="--index: 0;" class="id1">Nikhil Jain</span>
                    <span style="--index: 1;" class="id1">Nikhil Jain</span>
                    <span style="--index: 2;" class="id1">Nikhil Jain</span>
                  </div>
                  <a href="https://github.com/JAIN0103" class="github-link">
                    <div>
                      <i class="fa fa-github EYECON" style="font-size:40px;color:red"></i>
                      <span class="gitlink">github.com</span><span class="sublink">/JAIN0103</span>
                    </div>
                  </a>
                  <a href="https://www.linkedin.com/in/nikhil-jain-174758228/" class="github-link">
                    <div>
                      <i class="fa fa-linkedin" style="font-size:35px;color:#0072b1"></i>
                      <span class="gitlink">linkedin.com</span><span class="sublink">/nikhil-jain/</span>
                    </div>
                  </a>
                </div>
                <div class="stack leavebox" style="--stacks: 3; margin-top: 15vh;">
                  <span onclick="leave()" style="--index: 0;" class="id1 lve">LEAVE</span>
                  <span onclick="leave()" style="--index: 1;" class="id1 lve">LEAVE</span>
                  <span onclick="leave()" style="--index: 2;" class="id1 lve">LEAVE</span>
                </div>
              </div>
              
            </div>
            <div class="glitchscreen">
              <div class="exit-screen"></div>
            </div>
        </div>
        <div class="la-underlay">
            <video class="la-bgvideo" src='https://i.imgur.com/KEnwbfZ.mp4' muted autoPlay loop >
        </div>
        <div class="la-overlay"></div>

        <div class="la-sidenav">
            <a href="{{ url_for('home') }}" class="la-logo-bg" ><img src="../static/assets/logo.png" class="la-logo"></a>
            <a href="{{ url_for('blockchain') }}" class="la-sidenav-box">BLOCKS</a>
            <a href="{{ url_for('mine') }}" class="la-sidenav-box">MINE</a>
            <a href="{{ url_for('node') }}" class="la-sidenav-box">NODES</a>
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('wallet') }}" class="la-sidenav-box">WALLET</a>
                <a href="{{ url_for('logout') }}" class="la-sidenav-box">LOGOUT</a>
            {% else %}
                <a href="{{ url_for('register') }}" class="la-sidenav-box">REGISTER</a>
                <a href="{{ url_for('login') }}" class="la-sidenav-box">LOGIN</a>
            {%endif%}
            
        </div>

        <div class="la-body-content">
            {% block content %}
            {% endblock %}
            <!-- <hr/>
            <footer>
                <p>Â© 2022</p>
            </footer> -->
        </div>
        
  <script>
    function removeAllChildNodes(parent) {
    while (parent.firstChild) {
            parent.removeChild(parent.firstChild);
        }
    }

    const isize = 250;
    let leftDiv = document.getElementsByClassName("container-left")[0];
      for (i = 0; i<isize; i++) {
        let divElement = document.createElement('div');
        divElement.className = 'time';
        divElement.style.setProperty("--i:", i);
        leftDiv.appendChild(divElement)
      }

      let rightDiv = document.getElementsByClassName("container-right")[0];
      for (i = 0; i<isize; i++) {
        let divElement = document.createElement('div');
        divElement.className = 'time';
        divElement.style.setProperty("--i:", i);
        rightDiv.appendChild(divElement)
      }

    function ani() {
      var time = Math.random();
      var cols = document.getElementsByClassName('time');
      for (i = 0; i < cols.length; i++) {
        var weight = Math.abs(((getComputedStyle(cols[i]).getPropertyValue('--i')) - (isize/2))/10);
        time = (Math.random()+1) * (25-weight) ;
        cols[i].style.setProperty('--animation-time', time + 's');
        time = Math.random() * 5;
        cols[i].style.setProperty('--animation-delay', time + 's');
      }

      var cols = document.getElementsByClassName('time');
      for (i = 0; i < cols.length; i++) {
        cols[i].classList.add('close');
      }
      var superdiv = document.getElementsByClassName('la-superdiv')[0];
      superdiv.style.setProperty('z-index', 1000);

      setTimeout(function(){
        var container1 = document.getElementsByClassName('container1')[0];
        container1.style.setProperty('z-index', 1001);
        var cols = document.getElementsByClassName('id1');
        for (i = 0; i < cols.length; i++) {
            cols[i].classList.add('stack-ani');
        }
        var cols = document.getElementsByClassName('id2');
        for (i = 0; i < cols.length; i++) {
            cols[i].classList.add('stack-ani');
        }
      }, 12500);

      setTimeout(function(){
        var glitchscreen = document.getElementsByClassName('glitchscreen')[0];
        glitchscreen.style.setProperty('z-index', 1000);
        var infotainer = document.getElementsByClassName('infotainer')[0];
        infotainer.style.setProperty('display', "grid");
        glitchscreen.style.setProperty('display', "flex");
        removeAllChildNodes(document.getElementsByClassName("container-left")[0]);
        removeAllChildNodes(document.getElementsByClassName("container-right")[0]);
      }, 12500);
    }

    function leave() {
        var infotainer = document.getElementsByClassName('infotainer')[0];
        infotainer.classList.add('shrink');
        exit = document.getElementsByClassName('exit-screen')[0];
        exit.style.setProperty('opacity', "100%");
        setTimeout(function(){
          exit.classList.add('exit-wide');
        }, 1250);
        setTimeout(function(){
          exit.classList.add('exit-expand');
          setTimeout(function(){
            exit.classList.add('exit-expand');
            var glitchscreen = document.getElementsByClassName('glitchscreen')[0];
            glitchscreen.style.setProperty('background-color', "rgba(0,0,0,.0");
          }, 1000);
          setTimeout(function(){
            var superdiv = document.getElementsByClassName('la-superdiv')[0];
            superdiv.style.setProperty('z-index', -100);
          }, 1500);
        }, 3250);
      }

  </script>
  
    </body>
</html>
